@inject IDeviceService DeviceService
@if(DeviceService.Devices == null || DeviceService.Devices.Count == 0){
    <span>Loading devices</span>
}
else{
    @foreach (var device in DeviceService.Devices)
    {
        <a href="/device/@device.Id">DEVICE @device.Id</a>
    }
}

@code{
    protected override async Task OnInitializedAsync()
    {
        await DeviceService.GetDevices();
    }
}